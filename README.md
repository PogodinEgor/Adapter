<p align="center">
      <img src="https://i.ibb.co/dpq3T35/image.webp" alt="Project Logo Url" width="350">
</p>
<p align="center">
  <img src="https://img.shields.io/badge/Java-version%2017%20-blue" alt="Java версия 17">
   <img src="https://img.shields.io/badge/Spring%20Boot-version%203.2.3%20-blue" alt="Версия Spring Boot">
</p>

Написать микросервис «Adapter», который принимает сообщение из «Service А», производит преобразования, описанные ниже, и передает его в «Service B». 

Ниже приведена схема взаимодействия:
1. Коммуникация между всеми микросервисами осуществляется с использованием архитектурного стиля REST. 
2. Формат сообщений, отправляемых «Service А» определен в формате RAML и имеет следующий вид:
 ![image](https://github.com/PogodinEgor/Adapter/assets/123544418/9a0a9ee0-df79-4931-92f9-1c4472cc31d8)

3.  Требуется обрабатывать сообщения только с признаком "lng": "ru" и, используя координаты, обогащать сообщение данными из сервиса погоды. Сообщения, не прошедшие условия фильтрации – игнорировать. Если сервис погоды недоступен – считать это ошибкой.
4. Одним из возможных форматов API сервиса погоды можно предложить формат Gismeteo (https://www.gismeteo.ru/api/). Стоит учесть, что в дальнейшем список поддерживаемых сервисов погоды с их форматами будет расширяться.
 5.  Формат сообщений принимаемых сервисом «В»:
     
   ![image](https://github.com/PogodinEgor/Adapter/assets/123544418/61fd88cf-ea19-46d7-9058-6b3dfceecc4e)

   
7.  Добавить обработку ошибок при получении пустого сообщения из сервиса “А”. Пустым сообщением считать сообщение, не содержащее ни одного символа в поле “msg”.
8.  Использовать Maven для сборки проекта
9.  Настройка Spring с помощью Java-аннотаций
 

# AdapterService

AdapterService — это микросервис, разработанный для выполнения тестового задания middle Java. Он обеспечивает связь между сервисом А и сервисом B, обогащая данные от сервиса А информацией о погоде перед передачей в сервис B.

## Основные функции

- **Фильтрация сообщений**: Обрабатывает только сообщения с признаком "lng": "ru".
- **Обогащение данных о погоде**: Использует координаты из сообщения для получения данных о погоде через API-NINJAS.
- **Обработка ошибок**: При недоступности сервиса погоды или получении пустого сообщения из сервиса "А" возвращает соответствующие ошибки.

## Технологии

- Spring Boot для создания RESTful микросервиса.
- Maven для сборки проекта.
- REST архитектура для коммуникации между сервисами.

## Настройка и запуск

Для запуска проекта необходимо:

1. Клонировать репозиторий: git clone https://github.com/PogodinEgor/Adapter
2. Собрать проект с помощью Maven: mvn clean install
3. Запустить приложение: java -jar target/adapter-service-0.0.1-SNAPSHOT.jar
4. Для корректной работы приложения необходимо получить API токен от https://api-ninjas.com/api/weather. Для этого достаточно зарегистрироваться на сайте и получить токен для доступа к погодному сервису.
   
## Документация API

Документация по API доступна по адресу `http://localhost:9090/swagger-ui/index.html` после запуска приложения.

## Контакты

- Разработчик: Pogodin Egor
- Email: 666deadkain999@gmail.com
- GitHub: [PogodinEgor](https://github.com/PogodinEgor)
